<!-- /views/partials/login.ejs -->

<div class="modal fade text-dark" id="login">
    <div class="modal-dialog modal-dialog-centered modal-md">
        <div class="modal-content">
                <div class="modal-body">
                        <div id="register">
                                <h1 class="text-center mb-3">
                                        <i class="fas fa-user-plus"></i> Sign up
                                    </h1>


                                    <%if (typeof errors != 'undefined') { %>
                                      <div class="alert alert-danger" style="text-align:left">
                                          <ul style="padding-left: 15px;">
                                              <% errors.forEach(function(error){ %>
                                                  <li><%= error.msg %></li>
                                              <% }) %>
                                          </ul>
                                      </div>
                                  <% } %>
                                    <form action="/login" method="POST">
                                        
                                      <div class="form-group">
                                            <label for="name">Name</label>
                                            <input
                                                    type="text"
                                                    name="name"
                                                    class="form-control"
                                                    placeholder="Enter Name"
                                                    value="<%= typeof name != 'undefined' ? name : '' %>"
                                            />
                                        </div>
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input
                                                    type="email"
                                                    id="email"
                                                    name="email"
                                                    class="form-control"
                                                    placeholder="Enter Email"
                                                    value="<%= typeof email != 'undefined' ? email : '' %>"
                                            />
                                        </div>
                                        <div class="form-group">
                                            <label for="password">Password</label>
                                            <input
                                                    type="password"
                                                    id="password"
                                                    name="password"
                                                    class="form-control"
                                                    placeholder="Create Password"
                                                    value="<%= typeof password != 'undefined' ? password : '' %>"
                                            />
                                        </div>
                                        <div class="form-group">
                                            <label for="password2">Confirm Password</label>
                                            <input
                                                    type="password"
                                                    id="password2"
                                                    name="password2"
                                                    class="form-control"
                                                    placeholder="Confirm Password"
                                                    value="<%= typeof password2 != 'undefined' ? password2 : '' %>"
                                            />
                                        </div>
                                        <button class="btn btn-danger">Submit</button>
                                    </form>
                                    <hr>
                          <a class="btn btn-success btn-lg" onclick="$('#login-content').show();$('#register').hide();">Already Have an Account?</a>
                        </div>

                        <!-- login modal input -->
                        <div id="login-content" style="display :none;">
                                <h1 class="text-center mb-3">
                                        <i class="far fa-user"></i>Log In
                                    </h1>
                          <form id="form-id">
                            <div class="form-group">
                              <label for="inputEmail">Email</label>
                              <input
                                            name="email"
                                            type="email"
                                            class="form-control form-control-lg"
                                            placeholder="Email: @mail.sfsu.edu" required
                                            value="<%= (typeof body != 'undefined' && typeof body.email != 'undefined') ? body.email : '' %>"
                                    />
                              
                            </div>


                            <div class="form-group">
                              <label for="inputPassword">Password</label>

                             <input
                                            name="password"
                                            type="password"
                                            class="form-control form-control-lg"
                                            placeholder="Password"
                                            required
                                    />


                              <a type="button" class="btn btn-link btn-sm">Forgot password</a>
                            </div>
                            <div class="form-group">
                                <input
                                        type="submit"
                                        value="Submit"
                                        class="btn btn-outline-dark btn-block"
                                />
                            </div>
                          </form>
                          <hr>
                          <a class="btn btn-light btn-block" onclick="$('#login-content').hide();$('#register').show();$('#form-id').trigger('reset');">
                            Don't Have an account yet?</a>
                        </div>
                      </div>
        </div>
    </div>
</div>
</div>


<!-- for prototype day or testing and showing only -->
<script>




    function hideElement() {
        element = document.querySelector('.loginButton');
        element.style.visibility = 'hidden';
    }

//     function showElement() {
//         element = document.querySelector('.user');
//         element.style.visibility = 'visible';
//     }

//     function replace() {
//         var firstbtn = document.querySelector(".loginButton");
//         var secondbtn = document.querySelector(".user");
//         firstbtn.parentNode.replaceChild(secondbtn, firstbtn);
//         secondbtn.style.visibility = 'visible';
//     }

// document.onload = () => {
//   if(window.logged){
//     showElement();
//   } else{
//     window.logged = 1;
//   }
// }
</script>


